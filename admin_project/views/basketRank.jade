extends layout


    
block content
  h1= title
  p Welcome to #{title}

  form(action='/basketRank', method="post", enctype="multipart/form-data")
    h3 바스켓의 랭킹을 정해주세요
    table(border='1')
      thead
        tr
          th 바스켓 이름
          th 바스켓 랭킹
        tbody
          each basket, i in baskets
            tr
              td  #{basket.basket_name}
              td  
                input(type='text', id="basket"+i, name="basket_rank" ,value = '#{basket.basket_rank}' )


    p
      input(type='submit', id="saveBtn", value="수정")
      
  script.
    //- var param = {
    //-   ab1 : $(".class값").val(), //class선택자사용
    //-   ab2 : $("#id값").val()
    //- };
    //- var ranks = [];
    //- for (var i = 0 ; i < rows.length ; i++) {
    //-     ranks.push($("#"+"basket"+i.toString()).val());
    //- }
    //- console.log("rows length : ");
    //- console.log(rows.length);
    //- console.log("basket 1 value : ");
    //- console.log($("#basket1").val());
    var param = {
        //- ranks : $("#basket1").val(); 
    };
    $(function() {
      $("#saveBtn").click(function() {
        $.ajax({
          url: "http://localhost:8080/basketRank", //API
          type: "POST",
          dataType: "json",
          data: param,
          success: function (data) {
              alert('callback : '+data);
        },
          error: function(data){
            alert("code:"+data.status+"\n");
          }
        });
      });
    });

  
